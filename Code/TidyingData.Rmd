---
title: "Wrangling and tidying data"
author: "Erika Barthelmess"
date: "`r Sys.Date()`"
output: html_document
editor_options:
  chunk_output_type: console
---
## Introduction

Now that we've learned how to get some data into R and establish a well-organized project, *let's take a look at how to manipulate or "wrangle and tidy"* the data.

The data we will use come from [this paper](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0284094) and can be accessed [from dryad here](https://datadryad.org/stash/dataset/doi:10.5061/dryad.kd51c5bbg)

To wrangle data with the tidyverse, we use the `dplyr` package "verbs" via these functions:
* `select()` grabs columns
* `filter()` grabs rows matching particular conditions
* `mutate()` creates new variables

* `summarise()` provides a summary of values
* `group_by()` allows you to use any of the above operations "by group"

https://dplyr.tidyverse.org/articles/dplyr.html


If there is time, we'll also discuss reshaping a data frame with  `pivot_longer()` and`pivot_wider()`.

## Take a look at your dataset
Start with some data
```{r}
#read in data
library(here)
library(readxl)
DF <- read_excel(here("Data","Poorboyetal_Hybridization_Measurements.xls"))
```
Now turn on the packages we will need
```{r}
library(dplyr)
#library(tidyverse)
```

Let's look at the basic structure of our dataset
```{r}
str(DF) #output is overall structure of dataset
summary(DF)
```

Let's grab just the columns that include the Category, Sex and Incisor_L:

Tidyverse functions accept the data frame as their first argument, and what you want to do to the data frame as next arguments.

```{r}
select(DF, c(Category, Sex, Incisor_L))
```

Try using select to get just Mass and Incisor_BiteForce

```{r}
select(DF, c(Mass, Incisor_BiteForce))
```
You can imagine that the "nestedness" could get hard to read, so an alternative is to use *piping* and the piping operator ` %>% `

Thus, we can reach the same end with the following code

```{r}
DF %>% select(c(Mass, Incisor_BiteForce))
```

And you can save the result as a new object if you assign it:
```{r}
BiteByMass <-DF %>% select(c(Mass, Incisor_BiteForce))
```

